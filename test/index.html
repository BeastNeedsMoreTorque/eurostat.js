<link rel="stylesheet" type="text/css" href="style.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/d3-queue.v3.min.js"></script>
<script src="https://d3js.org/topojson.v1.min.js"></script>
<script src="https://d3js.org/d3-color.v1.min.js"></script>
<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jsonstat@0.13.3/json-stat.js"></script>
<script src="../js/lib.js"></script>
<script src="../js/eurostat-lib.js"></script>
<script src="../js/eurostat-map.js"></script>

<svg id="map"></svg>
<div id="tooltip"></div>

<script>

	//load parameters from URL
	var opts = EstLib.loadURLParameters();

	EstLib.map()
	//.scale("60M")
	//.nutsLvl(3)
	.ebcode("demo_r_d3dens").dimensions({ time : opts.time || 2016 })
	//.ebcode("demo_r_pjangrp3").dimensions({ age:"TOTAL",sex:"T",unit:"NR", time : 2016 })
	.unitText("unit")
	//.colorFun(d3.interpolateGnBu)
	//.clnb(3)
	//.drawCoastalMargin(true)
	.filtersDefinitionFun(EstLib.getFillPatternDefinitionFun({ patternSize: 4, shape: "circle", bckColor: "white", symbColor: "black" } ))
	.classToFillStyle(EstLib.getFillPatternLegend())
	//.type("ps")
	.set(opts)
	.build();

</script>
